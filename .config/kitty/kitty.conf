# ===========================================
# Kitty Terminal Configuration (Linux, X11)
# ===========================================
# Purpose: documented, minimal, Linux-focused config for daily use.
# Notes:
# - File: ~/.config/kitty/kitty.conf on Linux.
# - Syntax: one setting per line. Lines starting with # are comments.
# - Paths are resolved relative to this file unless absolute.

# ===========================================
# Platform and Display
# ===========================================
# Linux-only switch to force X11 backend. Use 'wayland' if you run a Wayland session.
linux_display_server x11

# ===========================================
# Fonts
# ===========================================
# Main monospace. Nerd Font exposes extra glyphs for prompts and devicons.
font_family family="SpaceMono Nerd Font Mono"

# Derive styles from the primary face.
bold_font        auto
italic_font      auto
bold_italic_font auto

# Fallback sizing guidance (adjust if glyph alignment looks off).
# font_size 12.0

# ===========================================
# Theme
# ===========================================
# Keep colors decoupled. Ensure this file exists alongside kitty.conf.
include current-theme.conf

# ===========================================
# Transparency and Background
# ===========================================
# 1.0 = opaque. 0.0 = fully transparent. Compositor must support transparency.
background_opacity 0.85

# Blur radius for the transparent background. Requires compositor support.
background_blur 50

# Keep opacity fixed at runtime to avoid unexpected visual shifts.
dynamic_background_opacity no

# ===========================================
# Behavior
# ===========================================
# Close the OS window without a confirmation dialog.
confirm_os_window_close 0

# Disable the audible bell.
enable_audio_bell no

# Typical Linux TERM value is auto-managed. Uncomment to pin:
# term xterm-kitty

# ===========================================
# Key Mappings
# ===========================================
# Conventions:
# - Use a dedicated modifier to avoid colliding with app shortcuts.
# - send_text emits raw escape sequences expected by most TUI apps.
# - Chooser kittens provide safe, targeted closes.

# Base modifier for all bindings: Ctrl+Shift
kitty_mod ctrl+shift

# --- Session exit controls ---
# Close the entire Kitty window.
map kitty_mod+q close_os_window
# Close the current tab.
map kitty_mod+w close_tab
# Close the current split pane.
map kitty_mod+x close_window

# --- Exit via chooser (interactive, safer in multi-tab/pane) ---
# Choose and close a tab.
map kitty_mod+e kitten choose --type tabs --action close
# Choose and close a window (split).
map kitty_mod+o kitten choose --type windows --action close

# --- Layout and navigation ---
# Open a new tab.
map kitty_mod+t new_tab
# Open a new split pane.
map kitty_mod+enter new_window
# Focus neighboring panes.
map kitty_mod+left  neighboring_window left
map kitty_mod+right neighboring_window right
map kitty_mod+up    neighboring_window up
map kitty_mod+down  neighboring_window down

# --- Editing keys: standard escape sequences ---
# Forward Delete
map delete send_text all \x1b[3~
# Alternative forward delete with kitty_mod
map kitty_mod+Delete send_text all \x1b[3~

# Insert
map insert send_text all \x1b[2~

# Home / End
map home send_text all \x1b[H
map end  send_text all \x1b[F
# Alternates found in some terminfo entries
map kitty_mod+home send_text all \x1b[1~
map kitty_mod+end  send_text all \x1b[4~

# Page Up / Page Down
map page_up   send_text all \x1b[5~
map page_down send_text all \x1b[6~

# ===========================================
# End of configuration (Linux, X11)
# ===========================================

